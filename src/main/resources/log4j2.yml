Configuration:
  Properties:
    Property:
      - name: LOG_PATTERN
#        value: "%d{yyyy-MM-dd HH:mm:ss.SSS} %5p [${spring:spring.application.name}]---%c{1.} [%method %line] : %m%n%xwEx"
        value: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] [%-5level] %logger{36} - %msg%n"

  Appenders:
    Console:
      name: Console
      target: SYSTEM_OUT
      PatternLayout:
        pattern: ${LOG_PATTERN}

    RollingFile:
      name: RollingFile
      fileName: /data/logs/application.log
      filePattern: /data/logs/application-%d{yyyyMMdd}-%i.log # 일 마다 파일 생성
      PatternLayout:
        pattern: ${LOG_PATTERN}
      Policies:
        SizeBasedTriggeringPolicy:
          size: 300MB
        TimeBasedTriggeringPolicy:
          interval: 1 # 1일 마다 파일 rolling (filePattern 종속)
          modulate: true
      DefaultRolloverStrategy:
        max: 5 # rolling 파일 수
        fileIndex: max
        Delete:
          basePath: logs
          maxDepth: 1
          IfLastModified:
            age: P5D # 5일이 지난 파일 삭제

  Loggers:
    Root:
      level: warn
      AppenderRef:
        - ref: Console
    Logger:
      - name: com.example.demo
        level: info
        additivity: true # true : 콘솔에도 출력
        AppenderRef:
          - ref: RollingFile
      - name: org.springframework.web
        level: info
        AppenderRef:
          - ref: RollingFile
          - ref: Console
